<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GalleryLoop - Login & Signup</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      * { box-sizing:border-box; margin:0; padding:0; }

      body {
          font-family:'Inter',sans-serif;
          min-height:100vh;
          display:flex;
          justify-content:center;
          align-items:center;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color:#2d3748;
          overflow:hidden;
      }

      .container {
          display:grid;
          grid-template-columns: 1fr 1fr;
          gap:0;
          width:90%;
          max-width:1000px;
          background: rgba(255,255,255,0.95);
          backdrop-filter: blur(10px);
          border-radius:20px;
          overflow:hidden;
          min-height:85vh;
      }

      /* Form sections */
      .form-section {
          padding:40px 30px;
          display:flex;
          flex-direction:column;
          justify-content:center;
          align-items:center;
          border-right: 1px solid rgba(226,232,240,0.5);
      }

      #signup { border-right:none; border-left: 1px solid rgba(226,232,240,0.5); }

      .form-section h2 {
          margin-bottom:8px;
          font-size:28px;
          font-weight:700;
          text-align:center;
      }

      .form-section .subtitle {
          font-size:16px;
          color:#718096;
          margin-bottom:30px;
          text-align:center;
      }

      .form-section form { width:100%; display:flex; flex-direction:column; gap:20px; }

      .input-group { position:relative; }
      .input-group i {
          position:absolute; left:16px; top:50%; transform:translateY(-50%);
          color:#a0aec0;
      }
      .input-group input {
          width:100%; padding:14px 20px 14px 50px;
          border-radius:12px; border:2px solid #e2e8f0;
          font-size:16px;
          transition: all 0.3s ease;
      }
      .input-group input:focus { outline:none; border-color:#667eea; background:#fff; }

      .form-section button {
          padding:14px 20px; border:none; border-radius:12px;
          font-size:16px; font-weight:600; cursor:pointer;
          color:#fff; background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
          transition: all 0.3s ease;
      }
      .form-section button:hover { transform: translateY(-2px); box-shadow:0 10px 20px rgba(102,126,234,0.3); }

      .form-section p { margin-top:20px; font-size:14px; text-align:center; }
      .form-section p a { color:#667eea; font-weight:600; text-decoration:none; }

      /* Background section */
      .background-section {
          display:flex;
          flex-direction:column;
          justify-content:center;
          align-items:center;
          text-align:center;
          background: linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%);
          color:#fff;
          padding:40px 20px;
      }
      .background-section i { font-size:64px; margin-bottom:20px; opacity:0.8; animation:pulse 2s infinite; }
      @keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }
      .background-section h1 { font-size:36px; font-weight:700; margin-bottom:16px; }
      .background-section .tagline { font-size:18px; opacity:0.9; }

      /* Error message */
      .error-message {
          color: #e53e3e;
          font-size: 14px;
          text-align: center;
          background: rgba(229, 62, 62, 0.1);
          padding: 10px;
          border-radius: 8px;
          margin-bottom: 10px;
          width: 100%;
      }

      /* Password strength indicator */
      .password-strength {
          font-size: 14px;
          margin-top: -10px;
          margin-bottom: 10px;
          text-align: center;
          width: 100%;
      }

      .password-strength.weak {
          color: #e53e3e;
      }

      .password-strength.medium {
          color: #d69e2e;
      }

      .password-strength.strong {
          color: #38a169;
      }

      /* Desktop grid layout */
      @media(min-width:768px) {
          .container {
              grid-template-columns: 1fr 1fr 1fr;
              min-height:70vh;
          }
          #login { grid-column:1 / 2; border-right:1px solid rgba(226,232,240,0.5);}
          .background-section { grid-column:2 / 3; }
          #signup { grid-column:3 / 4; border-left:1px solid rgba(226,232,240,0.5); border-right:none; }
      }

      /* Mobile */
      @media(max-width:767px){
          .container { display:flex; flex-direction:column; }
          .form-section, .background-section { width:100%; border:none; padding:30px 20px; }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Login Section -->
      <div class="form-section" id="login">
        <h2>Login</h2>
        <p class="subtitle">Welcome back! Please sign in.</p>
        <form action="/login" method="POST">
          {% if error %}
          <div class="error-message">{{ error }}</div>
          {% endif %}
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" name="email" placeholder="Email" required />
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" name="password" placeholder="Password" required />
          </div>
          <button type="submit"><i class="fas fa-sign-in-alt" style="margin-right:8px;"></i>Login</button>
        </form>
        <p>Admin login and signup <a href="/admin">Login</a></p>
      </div>

      <!-- Decorative Section -->
      <div class="background-section">
        <i class="fas fa-images"></i>
        <h1>Welcome to GalleryLoop</h1>
        <p class="tagline">Share and discover amazing visual content</p>
      </div>

      <!-- Signup Section -->
      <div class="form-section" id="signup">
        <h2>Sign Up</h2>
        <p class="subtitle">Join our creative community today!</p>
        <form action="/signup" method="POST" onsubmit="return validatePassword()">
          <div class="input-group">
            <i class="fas fa-user"></i>
            <input type="text" name="name" placeholder="Full Name" required />
          </div>
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" name="email" placeholder="Email" required />
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" name="password" id="password" placeholder="Password" required oninput="checkPasswordStrength()" />
          </div>
          <div id="password-strength" class="password-strength"></div>
          <button type="submit"><i class="fas fa-user-plus" style="margin-right:8px;"></i>Sign Up</button>
        </form>
        <p>Admin login and signup <a href="/admin">Login</a></p>
      </div>
    </div>

    <script>
      function checkPasswordStrength() {
        const password = document.getElementById("password").value;
        const strengthText = document.getElementById("password-strength");
        let strength = 0;

        if (password.length >= 8) strength++;
        if (password.match(/[A-Z]/)) strength++;
        if (password.match(/[0-9]/)) strength++;
        if (password.match(/[^A-Za-z0-9]/)) strength++;

        if (strength === 0) {
          strengthText.textContent = "";
        } else if (strength <= 2) {
          strengthText.textContent = "Password strength: Weak";
          strengthText.className = "password-strength weak";
        } else if (strength === 3) {
          strengthText.textContent = "Password strength: Medium";
          strengthText.className = "password-strength medium";
        } else {
          strengthText.textContent = "Password strength: Strong";
          strengthText.className = "password-strength strong";
        }
      }

      function validatePassword() {
        const password = document.getElementById("password").value;
        if (password.length < 8) {
          alert("Password must be at least 8 characters long.");
          return false;
        }
        return true;
      }
    </script>
  </body>
</html>